{"version":3,"sources":["select/select.js","index.js","C:/Users/abramovas/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","C:/Users/abramovas/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getTemplate","data","placeholder","selectedId","text","selectItem","map","el","cls","id","value","join","Select","selector","options","$el","document","querySelector","event","type","target","dataset","toggle","select","close","classList","contains","find","$value","textContent","current","querySelectorAll","forEach","remove","add","isOpen","open","innerHTML","clickHandler","bind","addEventListener","window","s","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","length","module"],"mappings":"AEAA,ACAA,IDAI2C,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFFJ,IEEIA,AFFEnC,IEEE,CAACU,CFFG,GAAG,EEEX,EFFerB,cAAJ,CAAW,SAAX,EAAsB;ACGnC,ACAC,AFFDV,EAAAA,CEAA,MDEOyC,IDFI,EAAE,GCEb,aDHmC;ACIpC,ADFCxC,EAAAA,UAAU,EAAE,GAFuB;AEInCwD,AFDA1D,EECA0D,AFDA1D,IAAI,EAAE,CECC,AFAL,CEAM6D,IAAR,GAAeJ,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AFDIjD,EECJiD,EFDIjD,EECA,AFDE,CECDyD,CFDG,CCEDrB,EDFL,MECF,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AFFc1D,IAAAA,KAAK,EAAE;ACIpB,ADJE,GADI,EAEJ,CCGE;AACF,ACDJ,AFHMD,IEGF4D,AFHE5D,EAAE,EAAE,ECIA,CDJN,GCIUqC,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,ADLYpC,GCGb,CAEE,ADLWA,KAAK,ECKTqC,ADLW,GCKlB,EAAY;AACZ,ACFJ,AFJI,GAFI,EAGJ,GCKIC,CCFCsB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AFJIzC,IAAAA,EEIA4D,AFJE,EAAE,GAAN,KEIF,EAAgB;ADEd,ACDA,AFLW3D,IAAAA,ICMPsC,CDNY,EAAE,ICMlB,EAAa;AACX,ACDH,AFNC,GAHI,EAIJ,QCMSG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,ADPCvC,ADVN,ICUMA,ADVAT,ECUE,EAAE,GAAN,IDVa,GAAG,SAAdA,WAAc,GAAwC;AEkBzD,ACDDqE,AFPa3D,ADV6C,EGiB1D2D,EFPa3D,EDVMT,GCUD,CDVwC,CCUtC,CEOV,GAAGsE,UAAU,CAAC,YAAY,2CHjBV,EAAgC;AGkBxD,AFRA,ADVwD,GCMpD,EAKJ,CDX4BrE,EGkBxBsE,KAAK,GAAGxD,CHlB4C,OGkBpC,CAACe,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ADTItB,ADXsD,ICWtDA,EAAE,ADXqCN,ECWnC,CCSD,EDTL,CCSF,IFpB0D;AEqB3D,ACFG,AFRWO,ADVb,ICUaA,EDVTN,GGkBG,AFRW,CDVV,CCUY,EEQTqE,AHlBAvE,CGkBC,GAAG,CAAb,EAAgBuE,CAAC,GAAGD,AHlBd,KGkBmB,CAACE,MAA1B,CHlBSxE,CGkByBuE,CAAC,EAAnC,EAAuC,KHlBjC,cAAGvE,WAAH,GAAkB,0BAA1B;AGmBI,AFTF,ADTF,GCIM,EAMJ,CDVIG,IGkBEkD,MAAM,AHlBE,CGkBDJ,EHlBIlD,IAAI,CAACK,GGkBhB,AHlBW,CGkBOkE,AHlBE,KGkBG,CAACC,CAAD,CAAL,CAASX,CHlBNvD,EAAD,CGkBpB,CHlB4B,KGkBSgD,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AFTFhD,ADTF,ICSEA,EAAE,EESAgD,AFTE,ADTFjD,CEoBC2C,EDXL,ADTO,GAAG,EAAV,EGkBc,CDElB,ACFmBqB,CDECpB,GAApB,CCFwB,CDEC,ACFAqB,CAAD,CAAN,CAAV;ADGN,ACFK,AFVQ/D,IAAAA,KCYN,ADZW,CCYV,CDZY,ICYP0C,GAAN,EAAWC,OAAX,CAAmB,gFAAnB,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AFXD,ADRA,GCEI,KDFA9C,EAAE,CAACE,EAAH,KAAUN,UAAd,EAA0B;ACDO,ADE/BC,CCFS,CAAf,IDEMA,IAAI,GAAGG,EAAE,CAACG,KAAV;AEsBN4C,ACFIe,AFVJ5B,ADTMjC,IGmBF6D,EFVE,ADTA7D,CEqBC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","file":"plaginSelect.e31bb0bc.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n  let text = placeholder ?? \"placeholder по умолчанию\";\r\n  const selectItem = data.map((el) => {\r\n    let cls = \"\";\r\n    if (el.id === selectedId) {\r\n      text = el.value;\r\n      cls = \"selected\";\r\n    }\r\n    return `<li class=\"select__item ${cls}\" key=${el.id} data-type='item' data-id=${el.id}>\r\n      ${el.value}\r\n    </li>\r\n    `;\r\n  });\r\n  return `<div class='select__backdrop' data-type='backdrop'></div>\r\n            <div class=\"select__input\" data-type='input'>\r\n                <span data-type='value'>${text}</span>\r\n                <span class=\"select__input__icon\">></span>\r\n            </div>\r\n            <div class=\"select__dropdown\">\r\n                <ul class=\"select__list\">\r\n                ${selectItem.join(\"\")}\r\n                </ul>\r\n            </div>\r\n        `;\r\n};\r\n\r\nexport class Select {\r\n  constructor(selector, options) {\r\n    this.$el = document.querySelector(selector);\r\n    this.options = options;\r\n    this.selectedId = options.selectedId;\r\n    this.#render();\r\n    this.#setup();\r\n  }\r\n\r\n  #render() {\r\n    const { data, placeholder } = this.options;\r\n    this.$el.classList.add(\"select\");\r\n    this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n  }\r\n  #setup() {\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$el.addEventListener(\"click\", this.clickHandler);\r\n    this.$value = this.$el.querySelector(`[data-type='value']`);\r\n  }\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n    switch (type) {\r\n      case \"input\":\r\n        this.toggle();\r\n        break;\r\n      case \"item\":\r\n        const id = event.target.dataset.id;\r\n        this.select(id);\r\n        break;\r\n      case \"backdrop\":\r\n        this.close();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$el.classList.contains(\"open\");\r\n  }\r\n  get current() {\r\n    return this.options.data.find((el) => el.id === this.selectedId);\r\n  }\r\n\r\n  select(id) {\r\n    this.selectedId = id;\r\n    this.$value.textContent = this.current.value;\r\n    this.$el\r\n      .querySelectorAll(`[data-type='item']`)\r\n      .forEach((el) => el.classList.remove(\"selected\"));\r\n    this.$el.querySelector(`[data-id='${id}']`).classList.add(\"selected\");\r\n    this.close();\r\n  }\r\n\r\n  toggle() {\r\n    !this.isOpen ? this.open() : this.close();\r\n  }\r\n\r\n  open() {\r\n    this.$el.classList.add(\"open\");\r\n  }\r\n  close() {\r\n    this.$el.classList.remove(\"open\");\r\n  }\r\n  destroy() {}\r\n}\r\n","import { Select } from \"./select/select\";\r\nimport \"./select/select.scss\";\r\n\r\nconst select = new Select(\"#select\", {\r\n  placeholder: \"Выбери элемент\",\r\n  selectedId: \"2\",\r\n  data: [\r\n    { id: \"1\", value: \"react\" },\r\n    { id: \"2\", value: \"react native\" },\r\n    { id: \"3\", value: \"vue\" },\r\n    { id: \"4\", value: \"Angular\" },\r\n    { id: \"5\", value: \"next\" },\r\n    { id: \"6\", value: \"node\" },\r\n  ],\r\n});\r\nwindow.s = select;\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}